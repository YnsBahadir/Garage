@model EntityLayer.Concrete.AppUser
@{
    ViewData["Title"] = "Profilim";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<style>
    .profile-card {
        border: none;
        border-radius: 15px;
        background-color: #fff;
        box-shadow: 0 5px 20px rgba(0,0,0,0.05);
        overflow: hidden;
    }

    .profile-header-cover {
        background: linear-gradient(135deg, #1c1c1c 0%, #333 100%);
        height: 120px;
        position: relative;
    }
    
    .profile-header-cover::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 4px;
        background-color: #FFD700; 
    }

    .profile-img-wrapper {
        position: relative;
        width: 140px;
        height: 140px;
        margin: -70px auto 10px; 
        border-radius: 50%;
        border: 5px solid #fff;
        box-shadow: 0 5px 15px rgba(0,0,0,0.15);
        background-color: #fff;
    }

    .profile-img {
        width: 100%;
        height: 100%;
        border-radius: 50%;
        object-fit: cover;
    }

    .form-label {
        font-size: 0.85rem;
        font-weight: 600;
        color: #666;
        margin-bottom: 0.3rem;
    }

    .form-control {
        border-radius: 8px;
        padding: 10px 15px;
        border: 1px solid #eee;
        background-color: #fcfcfc;
    }

    .form-control:focus {
        border-color: #FFD700;
        box-shadow: 0 0 0 0.25rem rgba(255, 215, 0, 0.15);
        background-color: #fff;
    }

    .btn-garage-update {
        background-color: #FFD700;
        color: #1c1c1c;
        font-weight: 700;
        border: none;
        padding: 12px;
        border-radius: 8px;
        transition: all 0.3s;
    }

    .btn-garage-update:hover {
        background-color: #e6c200;
        transform: translateY(-2px);
    }
</style>

<div class="container py-5">
    <form method="post">
        <div class="row">
            
            <div class="col-lg-4 mb-4">
                <div class="profile-card text-center pb-4 h-100">
                    <div class="profile-header-cover"></div>
                    
                    <div class="profile-img-wrapper">
                        <img src="@(string.IsNullOrEmpty(Model.ImageUrl) ? "https://ui-avatars.com/api/?name=" + Model.NameSurname + "&background=FFD700&color=000&size=140" : Model.ImageUrl)"
                             class="profile-img" alt="Profil Resmi">
                    </div>

                    <h4 class="fw-bold mb-0">@Model.NameSurname</h4>
                    <p class="text-muted small">@@@Model.Username</p>
                    
                    <div class="px-4 mt-3">
                        <span class="badge bg-light text-dark border px-3 py-2 rounded-pill">
                            <i class="fas fa-certificate text-warning me-1"></i> Onaylı Üye
                        </span>
                    </div>

                    <hr class="mx-4 my-4">

                    <div class="px-4 text-start">
                        <label class="form-label small text-muted">Profil Resmi Linki</label>
                        <div class="input-group input-group-sm mb-3">
                            <span class="input-group-text bg-light border-end-0"><i class="fas fa-link"></i></span>
                            <input type="text" name="ImageUrl" value="@Model.ImageUrl" class="form-control border-start-0" placeholder="https://..." />
                        </div>
                    </div>

                    <div class="px-4 mt-auto">
                        <a href="/Login/LogOut" class="btn btn-outline-danger w-100 fw-bold rounded-pill">
                            <i class="fas fa-sign-out-alt me-2"></i> Oturumu Kapat
                        </a>
                    </div>
                </div>
            </div>

            <div class="col-lg-8">
                <div class="profile-card p-4 p-md-5 h-100">
                    
                    <div class="d-flex align-items-center mb-4">
                        <div class="bg-warning rounded-circle d-flex align-items-center justify-content-center me-3" style="width: 45px; height: 45px;">
                            <i class="fas fa-user-gear fa-lg text-dark"></i>
                        </div>
                        <div>
                            <h4 class="fw-bold mb-0">Hesap Ayarları</h4>
                            <small class="text-muted">Kişisel bilgilerinizi buradan güncelleyebilirsiniz.</small>
                        </div>
                    </div>

                    <div class="row g-3">
                        <div class="col-md-6">
                            <label class="form-label">Ad Soyad</label>
                            <input type="text" name="NameSurname" value="@Model.NameSurname" class="form-control" required />
                        </div>

                        <div class="col-md-6">
                            <label class="form-label">Kullanıcı Adı</label>
                            <div class="input-group">
                                <span class="input-group-text bg-light border-end-0 text-muted">@@</span>
                                <input type="text" name="Username" value="@Model.Username" class="form-control border-start-0" required />
                            </div>
                        </div>

                        <div class="col-md-6">
                            <label class="form-label">E-Posta Adresi</label>
                            <input type="text" value="@Model.Mail" class="form-control bg-light text-muted" disabled />
                            <small class="text-muted" style="font-size: 11px;">E-posta adresi güvenlik nedeniyle değiştirilemez.</small>
                        </div>

                        <div class="col-md-6">
                            <label class="form-label">Telefon Numarası</label>
                            <input type="text" name="PhoneNumber" value="@Model.PhoneNumber" class="form-control" placeholder="05..." />
                        </div>

                        <div class="col-12">
                            <label class="form-label">Hakkımda / Biyografi</label>
                            <textarea name="About" class="form-control" rows="4" placeholder="Kendinizden kısaca bahsedin...">@Model.About</textarea>
                        </div>

                        <div class="col-12 my-2">
                             <div class="alert alert-light border d-flex align-items-center" role="alert">
                                <i class="fas fa-lock text-warning me-3 fs-4"></i>
                                <div>
                                    <label class="form-label mb-1 text-dark">Şifre Değiştir</label>
                                    <input type="password" name="Password" class="form-control form-control-sm" placeholder="Yeni şifrenizi girin (Değiştirmek istemiyorsanız boş bırakın)" style="max-width: 400px;">
                                </div>
                            </div>
                        </div>

                        <div class="col-12 mt-3 text-end">
                            <button type="submit" class="btn btn-garage-update px-5">
                                <i class="fas fa-save me-2"></i> Değişiklikleri Kaydet
                            </button>
                        </div>
                    </div>

                </div>
            </div>

        </div>
    </form>
</div>